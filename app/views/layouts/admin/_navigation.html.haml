%nav.navbar.fixed-top.navbar-expand-lg.navbar-light
  = link_to image_tag('logo/tiny_logo.png', alt: 'logo'), root_path, class: 'logo navbar-brand'

  %button.navbar-toggler{"aria-controls" => "navbarSupportedContent", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-target" => "#navbarSupportedContent", "data-toggle" => "collapse", :type => "button"}
    %span.navbar-toggler-icon

  .collapse.navbar-collapse#navbarSupportedContent
    %ul.navbar-nav.mr-auto
      -#%li.nav-item{ style: 'font-size:16px;padding:10px 10px 0;' } Admin
      %li.nav-item{ class: ('active' if controller_name == 'admin') }
        = link_to 'Tableau de bord', admin_root_path, class: 'nav-link'
      %li.nav-item.dropdown
        = link_to '#', class: 'nav-link dropdown-toggle', data: { toggle: 'dropdown' } do
          Finance
          %b.caret
        .dropdown-menu
          = link_to 'Reporting', '/admin/reporting', class: 'dropdown-item'
          = link_to 'Reporting de traitement', '/admin/process_reporting', class: 'dropdown-item'
          = link_to 'Factures', admin_invoices_path, class: 'dropdown-item'
      %li{ class: ( 'nav-item' && 'active' if controller_name == 'users') }
        = link_to 'Utilisateurs', admin_users_path, class: 'nav-link'
      %li.nav-item{ class: ('active' if controller_name == 'subscription_options') }
        = link_to 'Forfaits', admin_subscription_options_path, class: 'nav-link'
      %li.nav-item{ class: ('active' if controller_name.in?(%w(subscriptions mobile_reporting))) }
        = link_to 'Statistiques', admin_subscriptions_path, class: 'nav-link'
      %li.nav-item{ class: ('active' if controller_name == 'orders') }
        = link_to 'Commandes', admin_orders_path, class: 'nav-link'
      %li.nav-item{ class: ('active' if controller_name == 'events') }
        = link_to 'Visites', admin_events_path, class: 'nav-link'
      %li.nav-item{ class: ('active' if controller_name.in?(%w(retrievers new_provider_requests))) }
        = link_to 'Automates', admin_retrievers_path, class: 'nav-link'
      %li.nav-item.dropdown
        = link_to '#', class: 'nav-link dropdown-toggle', data: { toggle: 'dropdown' } do
          Livraison de pré-affectation
          %b.caret
        %ul.dropdown-menu
          = link_to 'Livraison vers Ibiza', admin_pre_assignment_deliveries_path(software: 'ibiza'), class: 'dropdown-item'
          = link_to 'Livraison vers Exact Online', admin_pre_assignment_deliveries_path(software: 'exact_online'), class: 'dropdown-item'
      %li.nav-item{ class: ('active' if controller_name.in?(%w(dematboxes dematbox_services dematbox_files))) }
        = link_to "iDocus'Box", admin_dematboxes_path, class: 'nav-link'
      %li.nav-item.dropdown
        = link_to '#', class: 'nav-link dropdown-toggle', data: { toggle: 'dropdown' } do
          Autres
          %b.caret
        %ul.dropdown-menu
          = link_to 'News', admin_news_index_path, class: 'dropdown-item'
          = link_to 'Récéptions Mail', admin_emailed_documents_path, class: 'dropdown-item'
          = link_to 'Images', admin_cms_images_path, class: 'dropdown-item'
          = link_to 'Ateliers', admin_scanning_providers_path, class: 'dropdown-item'
          = link_to 'Partages de compte', admin_account_sharings_path, class: 'dropdown-item'
          = link_to 'Notifications utilisateurs', admin_notifications_path, class: 'dropdown-item'
          = link_to 'Doublons de pré-affectation', admin_pre_assignment_blocked_duplicates_path, class: 'dropdown-item'
          = link_to 'Paramétrage des notifications', admin_notification_settings_path, class: 'dropdown-item'

    %span.navbar-text
      .text-white
        = link_to current_user.email, root_path, class: 'text-white'
        |
        = link_to 'déconnexion', destroy_user_session_path, method: :delete, class: 'text-white'
