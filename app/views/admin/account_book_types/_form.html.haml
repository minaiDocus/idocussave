.group
  != f.label :name, "Libellé *", :class => :label
  != f.text_field :name, :class => 'text_field'
  
.group
  != f.label :description, "Déscription *", :class => :label
  != f.text_field :description, :class => 'text_field'

.group
  != f.label :position, "Position", :class => :label
  != f.text_field :position, :class => 'text_field'
  
.group
  != f.label :owner, "Propriétaire", :class => :label
  - selection = User.where(:is_prescriber => true).entries.collect{|u| [u.information, u.id]} rescue []
  - selected = [@account_book_type.owner.name,@account_book_type.owner.id] rescue []
  != select_tag "account_book_type[owner]", options_for_select(selection, selected)
  
.group
  != label_tag "account_book_type[client_ids][]", "Clients", :class => :label
  - selection = @account_book_type.owner.clients.collect{|u| [u.information, u.id]} rescue []
  - selected = @account_book_type.clients.collect{|u| u.id} rescue []
  != select_tag "account_book_type[client_ids][]", options_for_select(selection, selected), :multiple=>true, :size=>10, :class => 'text_field', :id => "account_book_type_client_ids[]"

.group.navform.wat-cf
  %button.button{:type => 'submit'}
    != image_tag("web-app-theme/tick.png", :alt => "Save")
    Save
  != link_to image_tag("web-app-theme/cross.png", :alt => "Cancel") + "Cancel", admin_account_book_types_path, :class => "button"

.group
  %em
    %b *
    mandatory fields.
