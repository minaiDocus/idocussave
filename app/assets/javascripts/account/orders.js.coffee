paper_set_prices = ->
  [
    [
      [ 4,  6,  7,  8, 10, 11, 12, 14, 15, 16, 18,  19,  21,  22,  24,  25,  26,  28,  29,  30,  32,  33,  35,  36],
      [ 8, 11, 14, 17, 19, 22, 25, 28, 30, 33, 36,  38,  42,  45,  47,  50,  53,  56,  58,  61,  64,  66,  69,  72],
      [13, 17, 21, 25, 29, 33, 37, 41, 46, 49, 53,  58,  63,  67,  71,  75,  79,  83,  88,  91,  95, 100, 104, 107],
      [17, 22, 28, 34, 38, 44, 50, 55, 61, 66, 71,  77,  84,  90,  94, 100, 106, 111, 117, 122, 127, 133, 138, 143],
      [21, 28, 35, 42, 48, 55, 62, 69, 76, 82, 89,  96, 105, 112, 118, 125, 132, 139, 146, 152, 159, 166, 173, 179],
      [21, 28, 35, 42, 49, 56, 62, 69, 76, 83, 92,  99, 106, 112, 119, 126, 133, 140, 147, 154, 160, 167, 174, 181],
      [21, 28, 35, 42, 49, 56, 63, 70, 77, 86, 93, 100, 106, 113, 120, 127, 134, 141, 148, 155, 162, 169, 175, 182],
      [22, 28, 35, 42, 49, 56, 63, 70, 79, 86, 93, 100, 107, 114, 121, 128, 135, 142, 149, 156, 163, 170, 177, 184],
      [22, 29, 36, 43, 50, 57, 64, 73, 80, 87, 94, 101, 108, 115, 122, 129, 136, 143, 150, 157, 164, 171, 178, 185],
      [22, 29, 36, 43, 50, 57, 66, 73, 80, 88, 95, 102, 109, 116, 123, 130, 137, 144, 151, 158, 165, 173, 180, 187]
    ],
    [
      [ 5,  6,  8, 10, 11, 13, 15, 16, 18,  20,  21,  23,  25,  27,  29,  30,  32,  34,  35,  37,  39,  40,  42,  44],
      [ 9, 12, 16, 19, 23, 26, 29, 33, 36,  40,  43,  46,  50,  54,  57,  60,  64,  67,  71,  74,  77,  81,  84,  88],
      [14, 19, 24, 29, 34, 39, 44, 49, 54,  59,  64,  70,  76,  81,  86,  91,  96, 101, 106, 111, 116, 121, 126, 131],
      [18, 25, 32, 38, 46, 52, 58, 66, 72,  79,  86,  93, 101, 108, 114, 121, 128, 134, 142, 148, 154, 162, 168, 175],
      [23, 31, 40, 48, 57, 65, 73, 82, 90,  99, 107, 116, 126, 135, 143, 151, 160, 168, 177, 185, 193, 202, 210, 219],
      [23, 31, 40, 48, 57, 65, 74, 82, 91,  99, 110, 118, 127, 135, 144, 152, 161, 169, 178, 186, 195, 203, 212, 220],
      [23, 32, 40, 49, 57, 66, 74, 83, 91, 102, 111, 119, 128, 136, 145, 153, 162, 170, 179, 187, 196, 205, 213, 222],
      [23, 32, 40, 49, 58, 66, 75, 83, 94, 103, 111, 120, 128, 137, 146, 154, 163, 171, 180, 189, 197, 206, 214, 223],
      [23, 32, 41, 49, 58, 66, 75, 86, 95, 103, 112, 121, 129, 138, 147, 155, 164, 173, 181, 190, 199, 207, 216, 225],
      [23, 32, 41, 49, 58, 67, 78, 86, 95, 104, 113, 121, 130, 139, 148, 156, 165, 174, 182, 191, 200, 209, 217, 226]
    ],
    [
      [ 5,  7,  9, 11, 14, 16, 18,  20,  22,  24,  26,  28,  31,  33,  35,  37,  39,  42,  44,  46,  48,  50,  52,  54],
      [10, 14, 18, 23, 27, 31, 36,  40,  44,  48,  52,  57,  62,  66,  70,  75,  79,  83,  87,  92,  96, 100, 104, 109],
      [15, 22, 28, 34, 41, 47, 53,  59,  66,  73,  79,  85,  93,  99, 106, 112, 118, 125, 131, 137, 144, 150, 157, 163],
      [20, 29, 37, 46, 54, 62, 71,  79,  88,  97, 105, 114, 124, 132, 141, 150, 158, 166, 174, 183, 192, 200, 209, 218],
      [25, 36, 46, 57, 68, 78, 89,  99, 110, 121, 131, 142, 155, 165, 176, 187, 197, 208, 218, 229, 240, 250, 261, 272],
      [25, 36, 47, 57, 68, 79, 89, 100, 111, 121, 134, 145, 156, 166, 177, 188, 198, 209, 220, 230, 241, 252, 262, 273],
      [25, 36, 47, 57, 68, 79, 90, 100, 111, 124, 135, 146, 156, 167, 178, 189, 199, 210, 221, 231, 242, 253, 264, 274],
      [25, 36, 47, 58, 69, 79, 90, 101, 114, 125, 136, 146, 157, 168, 179, 189, 200, 211, 222, 233, 243, 254, 265, 276],
      [25, 36, 47, 58, 69, 80, 91, 104, 114, 125, 136, 147, 158, 169, 180, 190, 201, 212, 223, 234, 245, 256, 266, 277],
      [25, 36, 47, 58, 69, 80, 93, 104, 115, 126, 137, 148, 159, 170, 181, 191, 202, 213, 224, 235, 246, 257, 268, 279]
    ]
  ]

casing_size_index = ->
  paper_set_casing_size = parseInt($('#order_paper_set_casing_size').val())
  if paper_set_casing_size == 500
    0
  else if paper_set_casing_size == 1000
    1
  else if paper_set_casing_size == 3000
    2

folder_count_index = ->
  count = $('input[name="order[journals][]"]:checked').length
  if count > 0
    count - 1
  else
    0

periods_count = ->
  $('#order_paper_set_end_date').prop('selectedIndex') + $('#order_paper_set_start_date').prop('selectedIndex') + 1

price_of_periods = ->
  paper_set_prices()[casing_size_index()][folder_count_index()][periods_count() - 1]

update_price = ->
  price = price_of_periods() + ",00â‚¬ HT"
  $('.total_price').html(price)

jQuery ->
  if $('#order form').length > 0
    update_price()

    $('select').on 'change', ->
      update_price()

    $('.copy_address').on 'click', (e) ->
      e.preventDefault()
      $('#order_paper_return_address_attributes_company').val($('#order_address_attributes_company').val())
      $('#order_paper_return_address_attributes_last_name').val($('#order_address_attributes_last_name').val())
      $('#order_paper_return_address_attributes_first_name').val($('#order_address_attributes_first_name').val())
      $('#order_paper_return_address_attributes_address_1').val($('#order_address_attributes_address_1').val())
      $('#order_paper_return_address_attributes_address_2').val($('#order_address_attributes_address_2').val())
      $('#order_paper_return_address_attributes_city').val($('#order_address_attributes_city').val())
      $('#order_paper_return_address_attributes_zip').val($('#order_address_attributes_zip').val())
